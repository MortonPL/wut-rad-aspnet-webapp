@{
    ViewData["Title"] = "Activities";
}
<style>
    table {
        width:100%;
        border: 1px solid black
    }
    tr:nth-child(even) {
        background-color: #d2d2d2;
    }
    th {
        border: 1px solid grey;
    }
    td {
        vertical-align: top;
        border-left: 1px solid grey;
    }
</style>

<p>Here you will be able to inspect and edit activities.</p>

<br>
<div class="text-center">
    @{
        if (Model != null && Model.Activities != null)
        {
            if (Model.Activities.Count != 0)
            {
                <table>
                    <thead>
                        <tr>
                            <th>Activity</th>
                            <th>Manager</th>
                            <th>Name</th>
                            <th>Budget</th>
                            <th>Active</th>
                            <th>Subactivities</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var activity in Model.Activities)
                        {
                            <tr>
                                <td>@activity.code</td>
                                <td>@activity.manager</td>
                                <td>@activity.name</td>
                                <td>@activity.budget</td>
                                <td>@activity.active</td>
                                <td>
                                    @foreach (var subactivity in activity.subactivities)
                                    {
                                        @subactivity.code<text><br></text>
                                    }
                                </td>
                                <td>
                                    @{ if (Model.User == activity.manager)
                                        {
                                        <a style="display: inline-block;" asp-controller="Home" asp-action="ActivityInspect">Inspect</a>
                                        <a style="display: inline-block;" asp-controller="Home" asp-action="ActivityEdit">Edit</a>
                                        <a style="display: inline-block;" asp-controller="Home" asp-action="ActivityDelete">Delete</a>
                                        }
                                    }
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
            else
            {
                <p>Couldn't find activities!</p>
            }
        }
    }
</div>

<br>
<a href="/Home/">Go Back</a>
